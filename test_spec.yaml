test:
  suites:
  - setup: |
      print("Setting up test suite")
      b="  happy!"
      c=uuid()
    cases:
    - id: Alice
      code: |
        print("Inside test case {0} {1}".format(testcase_id, testcase_num))
        print(b)
        a=10
        if 'a' in locals():
          a=11
        print("Greetings")
        fail()
    - id: Bob
      code: |
        print("Inside test case Bob {:d}".format(testcase_num))
        print(b)
        a=10
        if 'a' in locals():
          a=11
        print("Greetings")
        print("uuid is {0}".format(c))
        expect(4==5, "four should equal five")
    - id: Carol
      code: |
        print("Now inside")
        print(" test case Carol {:d}".format(testcase_num))
        if 'a' not in locals():
          a=20
        print(b)
        print(a)
        print("here")
        abort()
        print("and there")
    - id: Dan
      code: |
        print("Now inside")
        print(" test case Dan {:d}".format(testcase_num))
        if 'a' not in locals():
          a=30
        print(b)
        print(a)
        print("here {0}".format(uuid()))
        print("uuid is {0}".format(c))
        require(7==8, "seven equals eight")
        print("and there")      
    - id: Ellen
      code: |
        print("Inside good test case Ellen {:d}".format(testcase_num))
        print(b)
        a=40
        print("uuid is {0}".format(c))
        if 'a' in locals():
          a=31
    - id: Felix
      code: |
        print("Inside good test case Felix {:d}".format(testcase_num))
        print(b)
        a=50
        print("uuid={0}".format(uuid()))
        if 'a' in locals():
          a=31
        out = call("ls /tmp/ca*")
        print(out)
        code, out = call_may_fail("ls my_failure")
        print("code {0}  out:\n{1}\n\n".format(code, out))
        expect(len(out)==10,"output is size 10")
        out = call("lslkasdj will_fail")
        require(len(out)==0, "failed in explicit check only!")
      
    teardown: |
      print("Tearing down test suite")
      print(a)
      print(b)
      
